# 电梯调度系统 README
## 一、项目简介
本电梯调度系统模拟多电梯运行场景，旨在通过不同调度算法优化电梯分配，提升运行效率。它具备直观的用户操作界面，可便捷输入请求，同时能实时展示电梯状态。系统支持多种调度算法，方便对比分析各算法性能。

## 二、功能特性
1. **电梯操作功能**：电梯内部设有数字键，用于选择目标楼层；开门、关门键可控制电梯门开关；报警键用于紧急情况报警。
2. **状态显示功能**：电梯和楼层均配备数码显示器，实时显示电梯当前楼层、运行状态（上升、下降、停止）以及门状态（已开门、已关门、关门中、开门中）。
3. **多种调度算法**：涵盖FCFS算法+评分最优、FCFS算法+任务最少、FCFS算法+顺序分配、LOOK调度算法、最短剩余时间调度算法、分组调度算法，可在主控制界面选择。

## 三、安装与运行
1. **环境要求**：需安装Qt开发环境，建议使用Qt Creator，操作系统推荐Windows 10及以上版本。
2. **获取代码**：从[项目仓库地址]下载源代码压缩包，解压至指定目录。
3. **编译运行**：打开Qt Creator，选择“文件” - “打开文件或项目”，选中解压目录下的项目文件（.pro），点击“构建” - “构建项目”进行编译。编译成功后，点击“运行”启动程序。

## 四、使用说明
1. **主控制界面**：打开程序，在主控制界面设置电梯数量（2 - 5部）、楼层数量（5 - 30层），并选择调度算法。点击“运行”按钮启动电梯系统，“暂停”按钮可停止系统，“退出”按钮用于关闭程序。
2. **电梯与楼层界面**：电梯界面可操作按钮控制电梯运行；楼层界面可通过上行、下行按钮发送请求。各界面数码显示器实时显示电梯状态。

## 五、算法原理
1. **FCFS算法+评分最优**：依请求顺序，计算电梯负载、距离、状态评分，综合得出总评分，选择评分最优的电梯响应请求，若都拒绝则强制调度评分最低的电梯。
2. **FCFS算法+任务最少**：按请求顺序，将请求分配给任务最少的电梯，若都拒绝则强制调度任务最少的电梯。
3. **FCFS算法+顺序分配**：按电梯编号顺序依次分配请求，若都拒绝则强制调度第一部电梯。
4. **LOOK调度算法**：选择与请求楼层距离最近且运行方向一致的电梯，若没有则强制调度第一部电梯。
5. **最短剩余时间调度算法**：计算电梯完成剩余任务的时间，选择剩余时间最短的电梯响应请求，若都拒绝则强制调度剩余时间最短的电梯。
6. **分组调度算法**：将楼层分为高低层两组，根据请求楼层所在组选择电梯，若组内无响应则从其他组或全部电梯中选择，都无响应则强制调度第一部电梯。

## 六、项目结构
1. **源代码文件**：`main.cpp`为程序入口；`qt_elevator_os.cpp`和`qt_elevator_os.h`实现主控制界面逻辑与功能；`building.cpp`和`building.h`负责楼层相关功能；`elevator.cpp`和`elevator.h`实现电梯功能。
2. **UI文件**：`ui_building.h`、`ui_elevator.h`、`ui_qt_elevator_os.h`由Qt Designer生成，定义各界面布局与样式。
elevator/
│
├── README.md
│
├── release/
│   ├── elevator_sim.exe
│   ├── Qt5Core.dll
│   ├── Qt5Gui.dll
│   ├── Qt5Widgets.dll
│   ├── platforms/
│   │   └── qwindows.dll
│   └── styles/
│       └── qwindowsvistastyle.dll
│
└── src/
    ├── building.cpp
    ├── building.h
    ├── elevator.cpp
    ├── elevator.h
    ├── main.cpp
    ├── qt_elevator_os.cpp
    ├── qt_elevator_os.h
    ├── elevator_sim.pro
    ├── elevator_sim.pro.user
    ├── ui/
    │   ├── ui_building.h
    │   ├── ui_elevator.h
    │   └── ui_qt_elevator_os.h
    └── image/
        ├── up1.png
        ├── up2.png
        ├── up3.png
        ├── down1.png
        ├── down2.png
        ├── down3.png
        └── stop.png
## 七、常见问题及解决方法
1. **编译错误**：检查Qt环境配置是否正确，确保项目依赖的库都已安装。若提示缺少头文件，检查文件路径是否正确。
2. **运行异常**：若界面显示异常，可能是样式表冲突，检查相关UI文件中的样式设置。若电梯调度异常，查看调度算法代码逻辑是否正确。

## 八、贡献指南
1. **问题反馈**：使用过程中发现问题，可在[项目仓库地址]提交issue，详细描述问题现象、出现条件等。
2. **代码贡献**：有意贡献代码，先fork项目仓库，在本地修改后提交pull request，注明修改内容和目的。 